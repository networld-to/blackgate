%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The Legrand Orange Book
% LaTeX Template
% Version 2.0 (9/2/15)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Mathias Legrand (legrand.mathias@gmail.com) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Compiling this template:
% This template uses biber for its bibliography and makeindex for its index.
% When you first open the template, compile it from the command line with the
% commands below to make sure your LaTeX distribution is configured correctly:
%
% 1) pdflatex main
% 2) makeindex main.idx -s StyleInd.ist
% 3) biber main
% 4) pdflatex main x 2
%
% After this, when you wish to update the bibliography/index use the appropriate
% command above and make sure to compile with pdflatex several times
% afterwards to propagate your changes to the document.
%
% This template also uses a number of packages which may need to be
% updated to the newest versions for the template to compile. It is strongly
% recommended you update your LaTeX distribution if you have any
% compilation errors.
%
% Important note:
% Chapter heading images should have a 2:1 width:height ratio,
% e.g. 920px width and 460px height.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[12pt,fleqn]{book} % Default font size and left-justified equations

%----------------------------------------------------------------------------------------

\input{structure} % Insert the commands.tex file which contains the majority of the structure behind the template
\definecolor{light-gray}{gray}{0.95}
\newcolumntype{g}{>{\columncolor{light-gray}}p{4cm}}

\usepackage[printwatermark]{xwatermark}
\newwatermark[allpages,color=gray!50,angle=45,scale=4,xpos=0,ypos=0]{DRAFT}

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begingroup
\thispagestyle{empty}
\begin{tikzpicture}[remember picture,overlay]
\coordinate [below=8cm] (midpoint) at (current page.north);
\node at (current page.north west)
{\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north west,inner sep=0pt] at (0,0) {\includegraphics[width=\paperwidth]{background1}}; % Background image
\draw[anchor=north] (midpoint) node [fill=ocre!30!,fill opacity=0.6,text
opacity=1,inner
sep=1cm]{\Huge\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\centering
    Distributed Hosting\\[15pt] % Book title
{\Large A Blockchain Based Distributed Hosting Engine}\\[20pt] % Subtitle
{\normalsize Alex Oberhauser, Stavros Champilomatis, Nikos Sarris and Maria Efthimiadou}}}; % Author name
\end{tikzpicture}};
\end{tikzpicture}
\vfill
\endgroup

%------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%------------------------------------------------------------------------------

\newpage
~\vfill
\thispagestyle{empty}

\noindent Copyright \copyright\ 2015 The BlackGate Team\\ % Copyright notice

\noindent \textsc{Published by the \textit{BlackGate} Team}\\ % Publisher

\noindent \textsc{http://blackgate.networld.to}\\ % URL

\noindent This work is licensed under the Creative Commons Attribution 4.0 International License. To view this license visit \url{http://creativecommons.org/licenses/by/4.0/}.\\ % License information

\noindent \textit{First released, March 2015} % Printing/edition date

%------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%------------------------------------------------------------------------------

\chapterimage{chapter_head_1.pdf} % Table of contents heading image

\pagestyle{empty} % No headers

\tableofcontents % Print the table of contents itself

\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right

\pagestyle{fancy} % Print headers again

%------------------------------------------------------------------------------
%	PART
%------------------------------------------------------------------------------
\part{Overview}

%------------------------------------------------------------------------------
%	CHAPTER 1
%------------------------------------------------------------------------------

\chapterimage{chapter_head_2.pdf} % Chapter heading image

\chapter{Introduction}
\input{sections/introduction.tex}

\chapterimage{chapter_head_4.pdf} % Chapter heading image

\chapter{Empowering Technology}
\input{sections/empowering_technology.tex}

\chapterimage{chapter_head_5.pdf} % Chapter heading image

\chapter{Ecosystem}
\input{sections/ecosystem.tex}


%------------------------------------------------------------------------------
%	PART
%------------------------------------------------------------------------------
\part{Specifications}\label{part:specifications}

%------------------------------------------------------------------------------
%	CHAPTER 2
%------------------------------------------------------------------------------

\chapterimage{chapter_head_3.pdf} % Chapter heading image

\chapter{Blockchain Specification}

\section{Transaction Definition}\index{Transaction Definition}
\input{sections/transaction_definition.tex}

\section{Block Definition}\index{Block Definition}
\input{sections/block_definition.tex}

\section{Mining Process}\index{Mining Process}
\input{sections/mining_process.tex}

%----------------------------------------------------------------------------------------
%	CHAPTER 3
%----------------------------------------------------------------------------------------
\chapter{Protocol Specification}

In Figure \ref{fig:data_cloud_blockchain} the relationship between the page
content (html, css, javascript, images...), in the middle cloud, the data
(above) and blockchain overlay network (below) is shown. The network that
manages the page content has not to be the same as the blockchain network, but
they maybe nearly identical or overlapping. The page content is not part of
the blockchain, but referenced from it. This allows to have no page content
size limit and the data exchange could be optimized.

\begin{figure}[htp]
\centering
\includegraphics[width=0.75\textwidth]{pictures/data_cloud_blockchain.png}
\caption{Relationship between blockchain and page content from a network
perspective.}
\label{fig:data_cloud_blockchain}
\index{Overlay Networks Figure}
\end{figure}

\section{Blockchain Overlay Network}\index{Blockchain Overlay Network}
\input{sections/blockchain_overlay_network}
\section{Data Overlay Network}\index{Data Overlay Network}
\section{Hosting Algorithm}\index{Hosting Algorithm}
\section{Node Handling}\index{Node Handling}
\input{sections/node_handling}

%------------------------------------------------------------------------------
%	PART
%------------------------------------------------------------------------------
\part{Appendix}

%------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%-----------------------------------------------------------------------------
\chapterimage{chapter_head_6.pdf} % Chapter heading image
\chapter*{Bibliography}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Bibliography}}
%\section*{Books}
%\addcontentsline{toc}{section}{Books}
%\printbibliography[heading=bibempty,type=book]
%\section*{Articles}
%\addcontentsline{toc}{section}{Articles}
%\addcontentsline{toc}{section}{Articles}
%\printbibliography[heading=bibempty,type=article]
%\nocite{*}
\printbibliography[heading=bibempty]

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

\cleardoublepage
\phantomsection
\setlength{\columnsep}{0.75cm}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Index}}
\printindex

%----------------------------------------------------------------------------------------

\end{document}
